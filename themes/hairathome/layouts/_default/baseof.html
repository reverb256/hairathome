<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
     <!-- Enhanced Mobile Meta Tags - Mobile-First Design (320px-428px primary viewport) -->
     <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, minimum-scale=1.0, maximum-scale=5.0">
     <meta name="mobile-web-app-capable" content="yes">
     <meta name="apple-mobile-web-app-capable" content="yes">
     <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
     <meta name="apple-mobile-web-app-title" content="{{ .Site.Title }}">
     <meta name="msapplication-TileColor" content="#f3e6d0">
     <meta name="msapplication-config" content="/browserconfig.xml">
     <meta name="format-detection" content="telephone=yes">
     <meta name="HandheldFriendly" content="true">
     <meta name="MobileOptimized" content="width">

    <title>{{ if .Title }}{{ .Title }} - {{ end }}{{ .Site.Title }}</title>
    <meta name="description" content="{{ .Description | default .Site.Params.description }}">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Critical CSS inline -->
    <style>
        /* Beauty Industry Aligned Critical Styles */
        :root {
          --beauty-primary: #f3e6d0;        /* Soft champagne - elegance */
          --beauty-primary-dark: #e6d4b6;   /* Richer champagne */
          --beauty-secondary: #d4a998;      /* Warm rose tone */
          --beauty-accent: #e8c4a8;         /* Soft coral accent */
          --beauty-text-dark: #3d2e26;      /* Rich brown text */
          --beauty-text-light: #f9f5ee;     /* Off-white text */
          --beauty-neutral-light: #f9f5ee;  /* Light background */
          --beauty-neutral-dark: #1e1916;   /* Dark background */
          --beauty-gold-accent: #d4af37;     /* Gold accent for luxury */
          --beauty-space-1: 8px;
          --beauty-space-2: 16px;
          --beauty-space-3: 24px;
          --beauty-space-4: 32px;
          --beauty-space-5: 40px;
          --beauty-space-6: 48px;
          --beauty-space-7: 64px;
          --beauty-space-8: 80px;
          --beauty-space-9: 96px;
          --beauty-space-10: 120px;
        }

        /* Beauty-aligned critical styles */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
          font-family: 'Poppins', sans-serif; 
          line-height: 1.6; 
          color: var(--beauty-text-dark); 
          background: linear-gradient(135deg, var(--beauty-neutral-light) 0%, #f0e6d9 100%);
          background-attachment: fixed;
          transition: background-color 0.3s ease, color 0.3s ease; 
        }
        a { text-decoration: none; color: inherit; }
        img { max-width: 100%; height: auto; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        header { 
          position: fixed; 
          top: 0; 
          left: 0; 
          width: 100%; 
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(15px);
          border-bottom: 1px solid rgba(212, 169, 152, 0.2);
          z-index: 1000; 
        }

        .navbar { padding: 1rem 0; padding-right: 80px; }
        .nav-container { 
          max-width: 1200px; 
          margin: 0 auto; 
          padding: 0 20px; 
          display: flex; 
          justify-content: space-between; 
          align-items: center; 
        }

        .logo h2 { 
          color: var(--beauty-gold-accent); 
          font-family: 'Playfair Display', serif; 
          font-size: 1.8rem; 
          text-shadow: 0 0 10px rgba(212, 175, 55, 0.2);
        }

        .nav-menu { display: flex; gap: 2rem; }
        .nav-link { 
          position: relative;
          font-weight: 500; 
          transition: color 0.3s ease; 
          color: var(--beauty-text-dark);
        }
        .nav-link:hover { color: var(--beauty-gold-accent); }
        .nav-link::after {
          content: '';
          position: absolute;
          bottom: -5px;
          left: 0;
          width: 0;
          height: 2px;
          background: var(--beauty-gold-accent);
          transition: width 0.3s ease;
        }
        .nav-link:hover::after { width: 100%; }

        .hamburger { display: none; flex-direction: column; cursor: pointer; }
        .bar { width: 25px; height: 3px; background-color: var(--beauty-text-dark); margin: 3px 0; transition: .3s; }

        .theme-toggle { 
          position: fixed; 
          top: 20px; 
          right: 20px; 
          z-index: 1001; 
          background: rgba(255, 255, 255, 0.85);
          border: 1px solid rgba(212, 169, 152, 0.2);
          border-radius: 50px; 
          padding: 8px 16px; 
          display: flex; 
          align-items: center; 
          gap: 8px; 
          cursor: pointer; 
          transition: all .3s ease; 
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
          backdrop-filter: blur(10px);
        }
        .theme-toggle:hover { 
          transform: translateY(-2px); 
          box-shadow: 0 8px 25px rgba(212, 175, 55, 0.2);
          border: 1px solid rgba(212, 175, 55, 0.3);
        }
        .theme-toggle i { font-size: 1.2rem; color: var(--beauty-gold-accent); }

        .hero { 
          min-height: 100vh; 
          display: flex; 
          align-items: center; 
          padding: var(--beauty-space-9) var(--beauty-space-3);
          position: relative;
          background: radial-gradient(circle at top right, rgba(212, 169, 152, 0.1) 0%, transparent 40%),
                      radial-gradient(circle at bottom left, rgba(232, 196, 168, 0.1) 0%, transparent 40%),
                      linear-gradient(135deg, var(--beauty-neutral-light) 0%, #f0e6d9 100%);
          overflow: hidden;
        }
        .hero::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: 
            radial-gradient(circle at 20% 30%, rgba(212, 169, 152, 0.05) 0%, transparent 20%),
            radial-gradient(circle at 80% 70%, rgba(232, 196, 168, 0.05) 0%, transparent 20%);
          pointer-events: none;
        }
        .hero-content { flex: 1; max-width: 600px; z-index: 2; }
        .hero-content h1 { 
          font-size: 3.5rem; 
          font-weight: 700; 
          color: var(--beauty-text-dark); 
          margin-bottom: var(--beauty-space-5); 
          line-height: 1.2; 
          font-family: 'Playfair Display', serif;
          position: relative;
        }
        .hero-content h1::after {
          content: '';
          position: absolute;
          bottom: -15px;
          left: 0;
          width: 80px;
          height: 4px;
          background: linear-gradient(90deg, var(--beauty-gold-accent), var(--beauty-accent));
          border-radius: 2px;
        }
        .hero-content p { 
          font-size: 1.2rem; 
          color: var(--beauty-text-dark); 
          margin-bottom: var(--beauty-space-6); 
          line-height: 1.7; 
        }
        .hero-buttons { display: flex; gap: var(--beauty-space-3); margin-top: var(--beauty-space-6); }
        .btn { 
          display: inline-block; 
          padding: var(--beauty-space-3) var(--beauty-space-5); 
          border-radius: 30px; 
          font-weight: 600; 
          text-align: center; 
          cursor: pointer; 
          transition: all .3s ease; 
          border: none; 
          font-size: 1rem; 
          position: relative; 
          overflow: hidden; 
          z-index: 1; 
        }
        .btn-primary { 
          background: linear-gradient(90deg, var(--beauty-gold-accent), #c59d35); 
          color: white; 
          box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3); 
        }
        .btn-primary::before { 
          content: ''; 
          position: absolute; 
          top: 0; 
          left: 0; 
          width: 0%; 
          height: 100%; 
          background: linear-gradient(90deg, #c59d35, var(--beauty-gold-accent)); 
          transition: all 0.4s; 
          z-index: -1; 
        }
        .btn-primary:hover::before { width: 100%; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(212, 175, 55, 0.4); color: white; }
        .btn-secondary { 
          background: transparent; 
          color: var(--beauty-gold-accent); 
          border: 2px solid var(--beauty-gold-accent); 
          box-shadow: 0 4px 15px rgba(212, 175, 55, 0.1); 
        }
        .btn-secondary::before { 
          content: ''; 
          position: absolute; 
          top: 0; 
          left: 0; 
          width: 0%; 
          height: 100%; 
          background: var(--beauty-gold-accent); 
          transition: all 0.4s; 
          z-index: -1; 
        }
        .btn-secondary:hover::before { width: 100%; }
        .btn-secondary:hover { color: white; transform: translateY(-2px); box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3); }
        .hero-image { flex: 1; display: flex; justify-content: center; align-items: center; }
        .hero-image img { 
          border-radius: 10px; 
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); 
          width: 100%; 
          max-width: 500px; 
        }

        @media(max-width: 768px) { 
          .navbar { padding-right: 20px; }
          .theme-toggle { top: 15px; right: 15px; padding: 6px 12px; }
          .theme-toggle span { display: none; }
          .hero { flex-direction: column; text-align: center; padding: var(--beauty-space-8) var(--beauty-space-3); }
          .hero-content { max-width: 100%; }
          .hero-content h1 { font-size: 2.5rem; }
          .hero-buttons { flex-direction: column; align-items: center; }
          .btn { display: block; width: 100%; max-width: 300px; margin-bottom: var(--beauty-space-3); }
          .hamburger { display: flex; }
          .nav-menu { 
            position: fixed; 
            left: -100%; 
            top: 70px; 
            flex-direction: column; 
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            width: 100%; 
            text-align: center; 
            transition: .3s; 
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08); 
            border-top: 1px solid rgba(212, 169, 152, 0.2);
          }
          .nav-menu.active { left: 0; }
          .nav-menu li { margin: 1rem 0; }
        }
    </style>

    <!-- Beauty Industry Font Styles -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"></noscript>

    <!-- Font Awesome -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>

    <!-- Main stylesheet (non-critical) -->
    <link rel="stylesheet" href="/css/style.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/css/style.css"></noscript>

    <!-- Beauty-Enhanced Stylesheet with Higher Specificity -->
    <link rel="stylesheet" href="/css/beauty-overrides.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="/css/beauty-overrides.css"></noscript>

    <!-- SEO Meta Tags -->
    {{ if .Site.Params.seo.enableOpenGraph }}
    <meta property="og:title" content="{{ .Title | default .Site.Title }}">
    <meta property="og:description" content="{{ .Description | default .Site.Params.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:image" content="/images/og-image.jpg">
    {{ end }}

    {{ if .Site.Params.seo.enableTwitterCards }}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ .Title | default .Site.Title }}">
    <meta name="twitter:description" content="{{ .Description | default .Site.Params.description }}">
    <meta name="twitter:image" content="/images/og-image.jpg">
    {{ end }}

    <!-- Enhanced Theme Colors for Mobile Browsers -->
    <meta name="theme-color" content="#f3e6d0">
    <meta name="color-scheme" content="dark light">
    <meta name="msapplication-navbutton-color" content="#f3e6d0">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512x512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="shortcut icon" href="/favicon.ico">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">

    <!-- Enhanced JSON-LD Structured Data -->
    {{ if .Site.Params.seo.enableJsonLd }}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "{{ .Site.Title }}",
      "description": "{{ .Site.Params.description }}",
      "url": "{{ .Site.BaseURL }}",
      "telephone": "{{ .Site.Params.phone }}",
      "email": "{{ .Site.Params.email }}",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Winnipeg",
        "addressRegion": "MB",
        "addressCountry": "CA"
      },
      "priceRange": "$25-300",
      "image": "{{ .Site.BaseURL }}/images/og-image.jpg",
      "sameAs": [
        "{{ .Site.Params.social.facebook }}",
        "{{ .Site.Params.social.instagram }}",
        "{{ .Site.Params.social.tiktok }}"
      ],
       "hasCredential": {
         "@type": "EducationalOccupationalCredential",
         "name": "Red Seal Certified Mobile Hair Stylist",
         "credentialCategory": "license",
         "recognizedBy": {
           "@type": "Organization",
           "name": "Red Seal Program"
         }
       },
       "areaServed": {
         "@type": "City",
         "name": "Winnipeg",
         "addressRegion": "MB",
         "addressCountry": "CA"
       },
       "serviceType": ["Hair Styling", "Mobile Hair Services", "Beauty Services"],
       "paymentAccepted": ["Cash", "Credit Card", "E-transfer"],
       "currenciesAccepted": "CAD",
       "openingHours": "Mo-Su 08:00-20:00",
       "aggregateRating": {
         "@type": "AggregateRating",
         "ratingValue": "4.9",
         "reviewCount": "127",
         "bestRating": "5",
         "worstRating": "1"
       },
       "review": [
         {
           "@type": "Review",
           "author": {
             "@type": "Person",
             "name": "Sarah M."
           },
           "reviewRating": {
             "@type": "Rating",
             "ratingValue": "5",
             "bestRating": "5"
           },
           "reviewBody": "Amazing service! Hair At Home came to my house and gave me the best haircut I've ever had. Professional, clean, and convenient."
         },
         {
           "@type": "Review",
           "author": {
             "@type": "Person",
             "name": "Jennifer L."
           },
           "reviewRating": {
             "@type": "Rating",
             "ratingValue": "5",
             "bestRating": "5"
           },
           "reviewBody": "The convenience of having a professional stylist come to you is unbeatable. Great work and very friendly service!"
         },
         {
           "@type": "Review",
           "author": {
             "@type": "Person",
             "name": "Mike T."
           },
           "reviewRating": {
             "@type": "Rating",
             "ratingValue": "5",
             "bestRating": "5"
           },
           "reviewBody": "Red Seal certified and it shows in the quality of work. Highly recommend for anyone looking for professional mobile hair services."
         }
       ],
       "hasOfferCatalog": {
         "@type": "OfferCatalog",
         "name": "Hair Services",
         "itemListElement": [
           {
             "@type": "Offer",
             "itemOffered": {
               "@type": "Service",
               "name": "Hair Cut & Style",
               "description": "Professional hair cutting and styling services",
               "areaServed": "Winnipeg, MB"
             },
             "priceRange": "$35-70"
           },
           {
             "@type": "Offer",
             "itemOffered": {
               "@type": "Service",
               "name": "Hair Color",
               "description": "Professional hair coloring and highlighting services",
               "areaServed": "Winnipeg, MB"
             },
             "priceRange": "$80-200"
           },
           {
             "@type": "Offer",
             "itemOffered": {
               "@type": "Service",
               "name": "Special Occasion Styling",
               "description": "Wedding and special event hair styling",
               "areaServed": "Winnipeg, MB"
             },
             "priceRange": "$60-150"
           }
         ]
       }
    }
    </script>
    {{ end }}
</head>
<body>
    {{ partial "header.html" . }}

    <main>
        {{ block "main" . }}{{ end }}
    </main>

     {{ partial "footer.html" . }}

     <!-- Floating WhatsApp Button -->
     <div class="whatsapp-float">
         <a href="https://wa.me/12045550123?text=Hi!%20I'd%20like%20to%20book%20a%20mobile%20hair%20appointment.%20Please%20let%20me%20know%20your%20availability."
            target="_blank"
            aria-label="Contact via WhatsApp">
             <i class="fab fa-whatsapp"></i>
             <span class="whatsapp-text">Book Now</span>
         </a>
     </div>

      <!-- Scripts - No inline scripts for CSP compliance -->
     <script src="/js/main.js" defer></script>
     {{ if .Site.Params.performance.enableLazyLoading }}
     <script src="/js/lazy-loading.js" defer></script>
     {{ end }}
</body>
</html>