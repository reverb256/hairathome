{{ define "main" }}
<div class="container">
    <h1>{{ .Title }}</h1>
    <p class="section-subtitle">{{ .Params.subtitle }}</p>
    
    <div class="gallery-grid">
        {{ range .RegularPages }}
        <div class="gallery-item">
            <img 
                src="{{ .Params.image }}" 
                alt="{{ .Title }}"
                loading="lazy"
                width="400"
                height="300"
                data-critical="{{ if eq (len .RegularPages) 1 }}true{{ else }}false{{ end }}"
                data-src="{{ .Params.image }}"
                data-srcset="{{ .Params.image }}?w=400 400w, {{ .Params.image }}?w=800 800w, {{ .Params.image }}?w=1200 1200w"
                sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
            >
            <div class="gallery-overlay">
                <h3>{{ .Title }}</h3>
                <p>{{ .Params.description }}</p>
            </div>
        </div>
        {{ end }}
    </div>
    
    {{ .Content }}
</div>
{{ end }}